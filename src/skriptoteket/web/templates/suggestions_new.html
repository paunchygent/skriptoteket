{% extends "base.html" %}
{% block content %}
  <div class="huleedu-card huleedu-panel">
    <h2>Föreslå ett skript</h2>
    {% if submitted %}
      <p>Förslaget är skickat och ligger i granskningskön.</p>
    {% endif %}
    {% if error %}
      <p class="huleedu-error">{{ error }}</p>
    {% endif %}

    <form method="post" action="/suggestions/new" class="huleedu-stack">
      <div class="huleedu-form-group">
        <label for="title" class="huleedu-label">Titel</label>
        <input id="title" name="title" value="{{ form.title }}" required class="huleedu-input" />
      </div>

      <div class="huleedu-form-group">
        <label for="description" class="huleedu-label">Beskrivning</label>
        <textarea id="description" name="description" required class="huleedu-input">{{ form.description }}</textarea>
      </div>

      <fieldset class="huleedu-fieldset">
        <legend>Yrken</legend>
        <div class="huleedu-checkbox-group">
          {% for profession in professions %}
            <div class="huleedu-checkbox-item">
              <input
                type="checkbox"
                name="profession_slugs"
                id="profession-{{ profession.slug }}"
                value="{{ profession.slug }}"
                {% if profession.slug in form.profession_slugs %}checked{% endif %}
              />
              <label for="profession-{{ profession.slug }}">{{ profession.label }}</label>
            </div>
          {% endfor %}
        </div>
      </fieldset>

      <fieldset class="huleedu-fieldset">
        <legend>Kategorier</legend>
        <div class="huleedu-checkbox-group">
          {% for category in categories %}
            <div class="huleedu-checkbox-item">
              <input
                type="checkbox"
                name="category_slugs"
                id="category-{{ category.slug }}"
                value="{{ category.slug }}"
                {% if category.slug in form.category_slugs %}checked{% endif %}
              />
              <label for="category-{{ category.slug }}">{{ category.label }}</label>
            </div>
          {% endfor %}
        </div>
      </fieldset>

      <button type="submit" class="huleedu-btn huleedu-btn-navy huleedu-min-w-32">Skicka förslag</button>
    </form>
  </div>
{% endblock %}
