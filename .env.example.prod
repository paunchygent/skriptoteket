# Production environment variables for home server deployment
# Copy to .env and fill in actual values

# Database (shared PostgreSQL on hule-network)
SKRIPTOTEKET_DB_PASSWORD=change-me

# Application secrets
SECRET_KEY=generate-with-python-secrets-token-urlsafe-32

# Observability (HuleEdu-compatible structlog)
SERVICE_NAME=skriptoteket
LOG_LEVEL=INFO
LOG_FORMAT=json

# Health checks
# Include SMTP dependency in /healthz (only applies when EMAIL_PROVIDER=smtp).
HEALTHZ_SMTP_CHECK_ENABLED=true

# Bootstrap superuser (prod provisioning / UI smokes)
BOOTSTRAP_SUPERUSER_EMAIL=superuser@skriptoteket.hule.education
BOOTSTRAP_SUPERUSER_PASSWORD=change-me

# Email (SMTP)
# Note: keep each EMAIL_* key only once (duplicates are confusing; last one wins).
EMAIL_PROVIDER=smtp
EMAIL_SMTP_HOST=mail.privateemail.com
EMAIL_SMTP_PORT=587
EMAIL_SMTP_USERNAME=change-me
EMAIL_SMTP_PASSWORD=change-me
EMAIL_SMTP_USE_TLS=true
EMAIL_SMTP_TIMEOUT=30
EMAIL_DEFAULT_FROM_EMAIL=noreply@hule.education
EMAIL_DEFAULT_FROM_NAME=Skriptoteket
EMAIL_VERIFICATION_BASE_URL=https://skriptoteket.hule.education

# AI / LLM (llama-server OpenAI-compatible)
# Note: on Linux you may need the Docker bridge gateway IP instead of host.docker.internal.
LLM_EDIT_ENABLED=true
LLM_EDIT_BASE_URL=http://172.18.0.1:8082
LLM_EDIT_MODEL=qwen3-coder-30b-a3b
LLM_EDIT_TEMPLATE_ID=edit_suggestion_v1
OPENAI_LLM_EDIT_API_KEY=change-me
LLM_COMPLETION_ENABLED=true
LLM_COMPLETION_BASE_URL=http://172.18.0.1:8082
LLM_COMPLETION_MODEL=qwen3-coder-30b-a3b
LLM_COMPLETION_TEMPLATE_ID=inline_completion_v1
OPENAI_LLM_COMPLETION_API_KEY=change-me
LLM_CHAT_ENABLED=true
LLM_CHAT_BASE_URL=http://172.18.0.1:8082
LLM_CHAT_MODEL=qwen3-coder-30b-a3b
LLM_CHAT_TEMPLATE_ID=editor_chat_v1
OPENAI_LLM_CHAT_API_KEY=change-me
LLM_CHAT_OPS_ENABLED=true
LLM_CHAT_OPS_BASE_URL=http://172.18.0.1:8082
LLM_CHAT_OPS_MODEL=qwen3-coder-30b-a3b
LLM_CHAT_OPS_TEMPLATE_ID=editor_chat_ops_v1
OPENAI_LLM_CHAT_OPS_API_KEY=change-me

# OpenAI/OpenRouter prompt caching + provider headers (optional; GPT-5-2 family)
#LLM_COMPLETION_PROMPT_CACHE_RETENTION=24h
#LLM_COMPLETION_PROMPT_CACHE_KEY=skriptoteket:completion
#LLM_COMPLETION_EXTRA_HEADERS={"HTTP-Referer":"https://skriptoteket.hule.education","X-Title":"Skriptoteket"}
#LLM_EDIT_PROMPT_CACHE_RETENTION=24h
#LLM_EDIT_PROMPT_CACHE_KEY=skriptoteket:edit
#LLM_EDIT_EXTRA_HEADERS={"HTTP-Referer":"https://skriptoteket.hule.education","X-Title":"Skriptoteket"}
#LLM_CHAT_PROMPT_CACHE_RETENTION=24h
#LLM_CHAT_PROMPT_CACHE_KEY=skriptoteket:chat
#LLM_CHAT_EXTRA_HEADERS={"HTTP-Referer":"https://skriptoteket.hule.education","X-Title":"Skriptoteket"}
#LLM_CHAT_OPS_PROMPT_CACHE_RETENTION=24h
#LLM_CHAT_OPS_PROMPT_CACHE_KEY=skriptoteket:chat_ops
#LLM_CHAT_OPS_EXTRA_HEADERS={"HTTP-Referer":"https://skriptoteket.hule.education","X-Title":"Skriptoteket"}

# Observability stack (compose.observability.yaml)
GRAFANA_ADMIN_PASSWORD=change-me
PROMETHEUS_BASIC_AUTH_PASSWORD=change-me
JAEGER_BASIC_AUTH_PASSWORD=change-me
