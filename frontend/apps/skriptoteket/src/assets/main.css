@import "tailwindcss";
@plugin "@tailwindcss/typography";
@import "../styles/tokens.css";
@import "../styles/tailwind-theme.css";

body {
  background: var(--color-canvas);
  color: var(--color-navy);
}

/* Grid background pattern - 24px baseline grid matching HuleEdu */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image:
    linear-gradient(var(--huleedu-navy) 1px, transparent 1px),
    linear-gradient(90deg, var(--huleedu-navy) 1px, transparent 1px);
  background-size: var(--huleedu-grid-size) var(--huleedu-grid-size);
  opacity: 0.04;
  pointer-events: none;
  z-index: -1;
}

/* ═══════════════════════════════════════════════════════════════════════════
   BUTTON PRIMITIVES - Skriptoteket SPA

   Tailwind v4 note: Cannot @apply custom classes within @layer components.
   Define base styles directly in each button class instead.
   ═══════════════════════════════════════════════════════════════════════════ */

@layer components {
  /* Standard action button: Navy base → Burgundy fill on hover, 4px press */
  .btn-primary {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2 text-xs font-bold uppercase tracking-widest select-none;
    @apply border border-navy cursor-pointer transition-colors transition-shadow;
    @apply focus-visible:outline focus-visible:outline-2 focus-visible:outline-burgundy/40 focus-visible:outline-offset-2;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    @apply bg-navy text-canvas shadow-brutal;
    @apply active:translate-x-1 active:translate-y-1 active:shadow-none;
  }

  /* Critical CTA: Burgundy base, no Navy fill on hover, 4px press */
  .btn-cta {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2 text-xs font-bold uppercase tracking-widest select-none;
    @apply border border-navy cursor-pointer transition-colors transition-shadow;
    @apply focus-visible:outline focus-visible:outline-2 focus-visible:outline-burgundy/40 focus-visible:outline-offset-2;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    @apply bg-burgundy text-canvas shadow-brutal;
    @apply active:translate-x-1 active:translate-y-1 active:shadow-none;
  }

  /* No-fill table/button: Canvas hover + warning highlight, 4px press */
  .btn-ghost {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2 text-xs font-bold uppercase tracking-widest select-none;
    @apply border border-navy cursor-pointer transition-colors transition-shadow;
    @apply focus-visible:outline focus-visible:outline-2 focus-visible:outline-burgundy/40 focus-visible:outline-offset-2;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    @apply bg-white text-navy shadow-brutal;
    @apply active:translate-x-1 active:translate-y-1 active:shadow-none;
  }
}

@media (hover: hover) and (pointer: fine) {
  .btn-primary:not(:disabled):not(:active):hover {
    @apply bg-burgundy;
  }

  .btn-cta:not(:disabled):not(:active):hover {
    @apply ring-2 ring-burgundy/40;
  }

  .btn-ghost:not(:disabled):not(:active):hover {
    @apply bg-canvas ring-2 ring-warning;
  }

  .hover-warning-ring:not(:disabled):not(:active):hover {
    @apply ring-2 ring-warning;
  }
}
