# Development overrides (hot-reload + volume mounts)
# Usage: docker compose -f compose.yaml -f compose.dev.yaml up

services:
  web:
    build:
      context: .
      target: development
    volumes:
      - ./src:/app/src:cached
      - ./migrations:/app/migrations:cached
      - ./alembic.ini:/app/alembic.ini:cached
      - ./.artifacts:/var/lib/skriptoteket/artifacts:cached
      - /var/run/docker.sock:/var/run/docker.sock
    environment:
      - ENVIRONMENT=development
      - ENABLE_DOCS=true
      - COOKIE_SECURE=false
